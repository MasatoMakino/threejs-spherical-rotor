(()=>{"use strict";var t,e={716:(t,e,a)=>{var i=a(753),o=a(580);class r{static initScene(){return new i.Z58}static initLight(t){const e=new i.$p8(16777215,1);return t.add(e),e}static initCamera(t,e,a,o=1,r=400){const s=new i.ubm(45,e/a,o,r);return s.position.set(0,0,100),s.updateMatrixWorld(!1),t.add(s),s}static initControl(t,e){let a;e&&(a=e.domElement);const i=new o.N(t,a);return i.update(),i}static initRenderer(t,e,a){a=Object.assign({color:0,antialias:!0},a);const o=new i.JeP({antialias:a.antialias});return document.body.appendChild(o.domElement),o.setClearColor(new i.Q1f(a.color)),o.setSize(t,e),o.setPixelRatio(window.devicePixelRatio),console.log(`three.js r${i.sPf}`),o}static initHelper(t){const e=new i.IzY(20);t.add(e);const a=new i.eaF(new i.qFE(5,10,16),new i.V9B({wireframe:!0}));return t.add(a),e}}var s=a(961);class n{constructor(t){this.cameraController=t,this.isRotation=!1,this.rotateTheta=t=>{null!=this._config?.speed&&this.cameraController.addPosition("theta",this._config.speed*(t.delta/(1e3/30)),!1,!0)}}set config(t){null!=t&&(this._config=l.init(t))}rotate(t){this.isRotation&&this.stop(),null!=this._config?.speed&&s.w.on("tick",this.rotateTheta),this.startSphericalCameraLoop("phi",t),this.startSphericalCameraLoop("theta",t),this.startSphericalCameraLoop("radius",t),this.isRotation=!0}startSphericalCameraLoop(t,e){const a=l.extractSphericalParam(this._config,t);null!=a&&this.cameraController.loop(t,a.min,a.max,{duration:a.duration,startTime:e?.startTime})}stop(t){this.isRotation&&(this.isRotation=!1,s.w.off("tick",this.rotateTheta),this.cameraController.tweens.stop(),t=n.getDefaultStopParam(t),this.returnToDefaultR(t))}returnToDefaultR(t){null!=this._config?.defaultR&&!0===t?.returnR&&this.cameraController.movePosition("radius",this._config.defaultR,{duration:333})}static getDefaultStopParam(t){return t??={},t.returnR??=!0,t}}class h extends n{constructor(t,e){super(e),this.sleepWatcher=t,this.isStart=!1,this.onSleep=()=>{this.rotate(this.loopOption)},this.onWakeup=()=>{this.stop()}}pause(t){this.isStart&&(this.isStart=!1,t=n.getDefaultStopParam(t),this.stopWatcher(),this.stop(t))}stopWatcher(){this.sleepWatcher.off("sleep",this.onSleep),this.sleepWatcher.off("wakeup",this.onWakeup),this.sleepWatcher.stop()}resume(){this.isStart||(this.isStart=!0,this.startWatcher())}watch(t,e){this.config=t,this.loopOption=e,this.isStart=!0,this.startWatcher()}startWatcher(){this.stopWatcher(),this.sleepWatcher.on("sleep",this.onSleep),this.sleepWatcher.on("wakeup",this.onWakeup),this.sleepWatcher.start()}}h.DEFAULT_LOOP_LAT_DURATION=3e4,h.DEFAULT_LOOP_R_DURATION=3e4;class l{static init(t){return t??={},t.loopPhi??={},t.loopPhi.duration??=h.DEFAULT_LOOP_LAT_DURATION,t.loopTheta??={},t.loopTheta.duration??=h.DEFAULT_LOOP_LAT_DURATION,t.loopR??={},t.loopR.duration??=h.DEFAULT_LOOP_R_DURATION,t}static extractSphericalParam(t,e){const a=((t,e)=>{switch(e){case"phi":return t?.loopPhi;case"theta":return t?.loopTheta;case"radius":return t?.loopR}})(t,e);if(null!=a&&null!=a.max&&null!=a.min)return a}}var c=a(108),p=a(930);let u;class d{constructor(){u=r.initScene(),u.fog=new i.jUj(0,80,160),r.initLight(u);const t=r.initCamera(u,640,480),e=r.initRenderer(640,480,{antialias:!1});r.initHelper(u);const a=p.Wo.generateCameraTarget();u.add(a);const o=new p.i8(t,a);o.initCameraPosition(new i.YHV(100,Math.PI/2,0));const n=new c.T(e.domElement),l=new c.s(n,{timeOut_ms:1e3});new h(l,o).watch({loopPhi:{min:0,max:Math.PI},loopTheta:{min:0,max:Math.PI/2},loopR:{min:100/3,max:100},defaultR:100}),s.w.on("tick",(()=>{e.render(u,t)}))}}window.onload=()=>{new d}}},a={};function i(t){var o=a[t];if(void 0!==o)return o.exports;var r=a[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.m=e,t=[],i.O=(e,a,o,r)=>{if(!a){var s=1/0;for(c=0;c<t.length;c++){for(var[a,o,r]=t[c],n=!0,h=0;h<a.length;h++)(!1&r||s>=r)&&Object.keys(i.O).every((t=>i.O[t](a[h])))?a.splice(h--,1):(n=!1,r<s&&(s=r));if(n){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[a,o,r]},i.d=(t,e)=>{for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={594:0};i.O.j=e=>0===t[e];var e=(e,a)=>{var o,r,[s,n,h]=a,l=0;if(s.some((e=>0!==t[e]))){for(o in n)i.o(n,o)&&(i.m[o]=n[o]);if(h)var c=h(i)}for(e&&e(a);l<s.length;l++)r=s[l],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(c)},a=self.webpackChunk_masatomakino_threejs_spherical_rotor=self.webpackChunk_masatomakino_threejs_spherical_rotor||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var o=i.O(void 0,[121],(()=>i(716)));o=i.O(o)})();