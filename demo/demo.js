(()=>{"use strict";var t,e={188:(t,e,o)=>{var a=o(710),i=o(753),s=o(961);class r{constructor(t){this.cameraController=t,this.isRotation=!1,this.rotateTheta=t=>{null!=this._config?.speed&&this.cameraController.addPosition("theta",this._config.speed*(t.delta/(1e3/30)),!1,!0)}}set config(t){null!=t&&(this._config=function(t){const e=t?{...t}:{};return e.loopPhi??={},e.loopPhi.duration??=h,e.loopTheta??={},e.loopTheta.duration??=h,e.loopR??={},e.loopR.duration??=l,e}(t))}rotate(t){this.isRotation&&this.stop(),null!=this._config?.speed&&s.w.on("tick",this.rotateTheta),this.startSphericalCameraLoop("phi",t),this.startSphericalCameraLoop("theta",t),this.startSphericalCameraLoop("radius",t),this.isRotation=!0}startSphericalCameraLoop(t,e){const o=function(t,e){const o=((t,e)=>{switch(e){case"phi":return t?.loopPhi;case"theta":return t?.loopTheta;case"radius":return t?.loopR}})(t,e);return null==o||null==o.max||null==o.min||null==o.duration?void 0:o}(this._config,t);null!=o&&this.cameraController.loop(t,o.min,o.max,{duration:o.duration,startTime:e?.startTime})}stop(t){if(!this.isRotation)return;this.isRotation=!1,s.w.off("tick",this.rotateTheta),this.cameraController.tweens.stop();const e=r.getDefaultStopParam(t);this.returnToDefaultR(e)}returnToDefaultR(t){null!=this._config?.defaultR&&!0===t?.returnR&&this.cameraController.movePosition("radius",this._config.defaultR,{duration:333})}static getDefaultStopParam(t){const e=t?{...t}:{};return e.returnR??=!0,e}}class n extends r{constructor(t,e){super(e),this.sleepWatcher=t,this.isStart=!1,this.onSleep=()=>{this.rotate(this.loopOption)},this.onWakeup=()=>{this.stop()}}pause(t){if(!this.isStart)return;this.isStart=!1;const e=r.getDefaultStopParam(t);this.stopWatcher(),this.stop(e)}stopWatcher(){this.sleepWatcher.off("sleep",this.onSleep),this.sleepWatcher.off("wakeup",this.onWakeup),this.sleepWatcher.stop()}resume(){this.isStart||(this.isStart=!0,this.startWatcher())}watch(t,e){this.config=t,this.loopOption=e,this.isStart=!0,this.startWatcher()}startWatcher(){this.stopWatcher(),this.sleepWatcher.on("sleep",this.onSleep),this.sleepWatcher.on("wakeup",this.onWakeup),this.sleepWatcher.start()}}const h=3e4,l=3e4;var c=o(108),p=o(930);let u;class d{constructor(){u=new a.Z58,u.fog=new a.jUj(0,80,160),function(t){const e=new a.$p8(16777215,1);t.add(e)}(u);const t=function(t,e,o,i=1,s=400){const r=new a.ubm(45,e/o,i,s);return r.position.set(0,0,100),r.updateMatrixWorld(!1),t.add(r),r}(u,640,480),e=function(t,e,o={}){const s=Object.assign({color:0,antialias:!0},o),r=new i.JeP({antialias:s.antialias});return document.body.appendChild(r.domElement),r.setClearColor(new a.Q1f(s.color)),r.setSize(t,e),r.setPixelRatio(window.devicePixelRatio),console.log(`three.js r${a.sPf}`),r}(640,480,{antialias:!1});!function(t){const e=new a.IzY(20);t.add(e);const o=new a.eaF(new a.qFE(5,10,16),new a.V9B({wireframe:!0}));t.add(o)}(u);const o=p.Wo.generateCameraTarget();u.add(o);const r=new p.i8(t,o);r.initCameraPosition(new a.YHV(100,Math.PI/2,0));const h=new c.T(e.domElement),l=new c.s(h,{timeOut_ms:1e3});new n(l,r).watch({loopPhi:{min:0,max:Math.PI},loopTheta:{min:0,max:Math.PI/2},loopR:{min:100/3,max:100},defaultR:100}),s.w.on("tick",(()=>{e.render(u,t)}))}}window.onload=()=>{new d}}},o={};function a(t){var i=o[t];if(void 0!==i)return i.exports;var s=o[t]={exports:{}};return e[t](s,s.exports,a),s.exports}a.m=e,t=[],a.O=(e,o,i,s)=>{if(!o){var r=1/0;for(c=0;c<t.length;c++){for(var[o,i,s]=t[c],n=!0,h=0;h<o.length;h++)(!1&s||r>=s)&&Object.keys(a.O).every((t=>a.O[t](o[h])))?o.splice(h--,1):(n=!1,s<r&&(r=s));if(n){t.splice(c--,1);var l=i();void 0!==l&&(e=l)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[o,i,s]},a.d=(t,e)=>{for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={594:0};a.O.j=e=>0===t[e];var e=(e,o)=>{var i,s,[r,n,h]=o,l=0;if(r.some((e=>0!==t[e]))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(h)var c=h(a)}for(e&&e(o);l<r.length;l++)s=r[l],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(c)},o=self.webpackChunk_masatomakino_threejs_spherical_rotor=self.webpackChunk_masatomakino_threejs_spherical_rotor||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var i=a.O(void 0,[121],(()=>a(188)));i=a.O(i)})();