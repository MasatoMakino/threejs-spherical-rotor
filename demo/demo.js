(()=>{"use strict";var t,e={504:(t,e,i)=>{var a=i(75),r=i(12);class o{static initScene(){return new a.xsS}static initLight(t){const e=new a.Mig(16777215,1);return t.add(e),e}static initCamera(t,e,i,r=1,o=400){const n=new a.cPb(45,e/i,r,o);return n.position.set(0,0,100),n.updateMatrixWorld(!1),t.add(n),n}static initControl(t,e){let i;e&&(i=e.domElement);const a=new r.z(t,i);return a.update(),a}static initRenderer(t,e,i){i=Object.assign({color:0,antialias:!0},i);const r=new a.CP7({antialias:i.antialias});return document.body.appendChild(r.domElement),r.setClearColor(new a.Ilk(i.color)),r.setSize(t,e),r.setPixelRatio(window.devicePixelRatio),r}static initHelper(t){const e=new a.y8_(20);t.add(e);const i=new a.Kj0(new a.b_z(5,10,16),new a.vBJ({wireframe:!0}));return t.add(i),e}}var n=i(163),s=i(15);class l{constructor(t){this.cameraController=t,this.isRotation=!1,this.startRotation=()=>{this.rotate()},this.rotateTheta=t=>{null!=this._config.speed&&this.cameraController.addPosition(s.xP.THETA,this._config.speed*(t.delta/(1e3/30)),!1,!0)},this.stopRotation=()=>{this.stop()}}set config(t){this._config=u.init(t)}rotate(){this.stop(),this.isRotation||(null!=this._config.speed&&n.Fz.on(n.M9.tick,this.rotateTheta),this.startSphericalCameraLoop(s.xP.PHI),this.startSphericalCameraLoop(s.xP.THETA),this.startSphericalCameraLoop(s.xP.R),this.isRotation=!0)}startSphericalCameraLoop(t){const e=u.extractSphericalParam(this._config,t);null!=e&&this.cameraController.loop(t,e.min,e.max,{duration:e.duration})}stop(t){this.isRotation&&(this.isRotation=!1,n.Fz.off(n.M9.tick,this.rotateTheta),this.cameraController.tweens.stop(),t=l.getDefaultStopParam(t),this.returnToDefaultR(t))}returnToDefaultR(t){var e;null!=(null===(e=this._config)||void 0===e?void 0:e.defaultR)&&!0===(null==t?void 0:t.returnR)&&this.cameraController.movePosition(s.xP.R,this._config.defaultR,{duration:333})}static getDefaultStopParam(t){var e;return null!=t||(t={}),null!==(e=t.returnR)&&void 0!==e||(t.returnR=!0),t}}var h=i(237);class c extends l{constructor(t,e){super(e),this.sleepWatcher=t,this.isStart=!1,this.onSleep=()=>{this.rotate()},this.onWakeup=()=>{this.stop()}}pause(t){this.isStart&&(this.isStart=!1,t=l.getDefaultStopParam(t),this.stopWatcher(),this.stop(t))}stopWatcher(){this.sleepWatcher.removeEventListener(h.On.SLEEP,this.onSleep),this.sleepWatcher.removeEventListener(h.On.WAKEUP,this.onWakeup),this.sleepWatcher.stop()}resume(){this.isStart||(this.isStart=!0,this.startWatcher())}start(t){this.watch(t)}watch(t){this.config=t,this.isStart=!0,this.startWatcher()}startWatcher(){this.stopWatcher(),this.sleepWatcher.addEventListener(h.On.SLEEP,this.onSleep),this.sleepWatcher.addEventListener(h.On.WAKEUP,this.onWakeup),this.sleepWatcher.start()}}c.DEFAULT_LOOP_LAT_DURATION=3e4,c.DEFAULT_LOOP_R_DURATION=3e4;class u{static init(t){var e,i,a,r,o,n,s,l,h;return null!=t||(t={}),null!==(e=t.loopPhi)&&void 0!==e||(t.loopPhi={}),null!==(i=(s=t.loopPhi).duration)&&void 0!==i||(s.duration=c.DEFAULT_LOOP_LAT_DURATION),null!==(a=t.loopTheta)&&void 0!==a||(t.loopTheta={}),null!==(r=(l=t.loopTheta).duration)&&void 0!==r||(l.duration=c.DEFAULT_LOOP_LAT_DURATION),null!==(o=t.loopR)&&void 0!==o||(t.loopR={}),null!==(n=(h=t.loopR).duration)&&void 0!==n||(h.duration=c.DEFAULT_LOOP_R_DURATION),t}static extractSphericalParam(t,e){const i=((t,e)=>{switch(e){case s.xP.PHI:return t.loopPhi;case s.xP.THETA:return t.loopTheta;case s.xP.R:return t.loopR}return null})(t,e);return null==i||null==i.max||null==i.min?null:i}}let p;class d{constructor(){p=o.initScene(),p.fog=new a.ybr(0,80,160),o.initLight(p);const t=o.initCamera(p,640,480),e=o.initRenderer(640,480,{antialias:!1});o.initHelper(p);const i=s.r$.generateCameraTarget();p.add(i);const r=new s.R_(t,i);r.initCameraPosition(new a.$V(100,Math.PI/2,0));const l=new h.q8(e.domElement),u=new h.EH(l,{timeOut_ms:1e3});new c(u,r).watch({loopPhi:{min:0,max:Math.PI},loopTheta:{min:0,max:Math.PI/2},loopR:{min:100/3,max:100},defaultR:100}),n.Fz.on(n.M9.tick,(()=>{e.render(p,t)}))}}window.onload=()=>{new d}}},i={};function a(t){var r=i[t];if(void 0!==r)return r.exports;var o=i[t]={exports:{}};return e[t](o,o.exports,a),o.exports}a.m=e,t=[],a.O=(e,i,r,o)=>{if(!i){var n=1/0;for(c=0;c<t.length;c++){for(var[i,r,o]=t[c],s=!0,l=0;l<i.length;l++)(!1&o||n>=o)&&Object.keys(a.O).every((t=>a.O[t](i[l])))?i.splice(l--,1):(s=!1,o<n&&(n=o));if(s){t.splice(c--,1);var h=r();void 0!==h&&(e=h)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[i,r,o]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={577:0};a.O.j=e=>0===t[e];var e=(e,i)=>{var r,o,[n,s,l]=i,h=0;if(n.some((e=>0!==t[e]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var c=l(a)}for(e&&e(i);h<n.length;h++)o=n[h],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(c)},i=self.webpackChunk_masatomakino_threejs_spherical_rotor=self.webpackChunk_masatomakino_threejs_spherical_rotor||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var r=a.O(void 0,[736],(()=>a(504)));r=a.O(r)})();