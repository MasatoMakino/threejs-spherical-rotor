(()=>{"use strict";var t,e={294:(t,e,i)=>{var a=i(710),r=i(753),o=i(580);class s{static initScene(){return new a.Z58}static initLight(t){const e=new a.$p8(16777215,1);return t.add(e),e}static initCamera(t,e,i,r=1,o=400){const s=new a.ubm(45,e/i,r,o);return s.position.set(0,0,100),s.updateMatrixWorld(!1),t.add(s),s}static initControl(t,e){let i;e&&(i=e.domElement);const a=new o.N(t,i);return a.update(),a}static initRenderer(t,e,i){i=Object.assign({color:0,antialias:!0},i);const o=new r.JeP({antialias:i.antialias});return document.body.appendChild(o.domElement),o.setClearColor(new a.Q1f(i.color)),o.setSize(t,e),o.setPixelRatio(window.devicePixelRatio),console.log(`three.js r${a.sPf}`),o}static initHelper(t){const e=new a.IzY(20);t.add(e);const i=new a.eaF(new a.qFE(5,10,16),new a.V9B({wireframe:!0}));return t.add(i),e}}var n=i(961);class l{constructor(t){this.cameraController=t,this.isRotation=!1,this.rotateTheta=t=>{null!=this._config?.speed&&this.cameraController.addPosition("theta",this._config.speed*(t.delta/(1e3/30)),!1,!0)}}set config(t){null!=t&&(this._config=c.init(t))}rotate(t){this.isRotation&&this.stop(),null!=this._config?.speed&&n.w.on("tick",this.rotateTheta),this.startSphericalCameraLoop("phi",t),this.startSphericalCameraLoop("theta",t),this.startSphericalCameraLoop("radius",t),this.isRotation=!0}startSphericalCameraLoop(t,e){const i=c.extractSphericalParam(this._config,t);null!=i&&this.cameraController.loop(t,i.min,i.max,{duration:i.duration,startTime:e?.startTime})}stop(t){this.isRotation&&(this.isRotation=!1,n.w.off("tick",this.rotateTheta),this.cameraController.tweens.stop(),t=l.getDefaultStopParam(t),this.returnToDefaultR(t))}returnToDefaultR(t){null!=this._config?.defaultR&&!0===t?.returnR&&this.cameraController.movePosition("radius",this._config.defaultR,{duration:333})}static getDefaultStopParam(t){return t??={},t.returnR??=!0,t}}class h extends l{constructor(t,e){super(e),this.sleepWatcher=t,this.isStart=!1,this.onSleep=()=>{this.rotate(this.loopOption)},this.onWakeup=()=>{this.stop()}}pause(t){this.isStart&&(this.isStart=!1,t=l.getDefaultStopParam(t),this.stopWatcher(),this.stop(t))}stopWatcher(){this.sleepWatcher.off("sleep",this.onSleep),this.sleepWatcher.off("wakeup",this.onWakeup),this.sleepWatcher.stop()}resume(){this.isStart||(this.isStart=!0,this.startWatcher())}watch(t,e){this.config=t,this.loopOption=e,this.isStart=!0,this.startWatcher()}startWatcher(){this.stopWatcher(),this.sleepWatcher.on("sleep",this.onSleep),this.sleepWatcher.on("wakeup",this.onWakeup),this.sleepWatcher.start()}}h.DEFAULT_LOOP_LAT_DURATION=3e4,h.DEFAULT_LOOP_R_DURATION=3e4;class c{static init(t){return t??={},t.loopPhi??={},t.loopPhi.duration??=h.DEFAULT_LOOP_LAT_DURATION,t.loopTheta??={},t.loopTheta.duration??=h.DEFAULT_LOOP_LAT_DURATION,t.loopR??={},t.loopR.duration??=h.DEFAULT_LOOP_R_DURATION,t}static extractSphericalParam(t,e){const i=((t,e)=>{switch(e){case"phi":return t?.loopPhi;case"theta":return t?.loopTheta;case"radius":return t?.loopR}})(t,e);if(null!=i&&null!=i.max&&null!=i.min)return i}}var p=i(108),u=i(930);let d;class m{constructor(){d=s.initScene(),d.fog=new a.jUj(0,80,160),s.initLight(d);const t=s.initCamera(d,640,480),e=s.initRenderer(640,480,{antialias:!1});s.initHelper(d);const i=u.Wo.generateCameraTarget();d.add(i);const r=new u.i8(t,i);r.initCameraPosition(new a.YHV(100,Math.PI/2,0));const o=new p.T(e.domElement),l=new p.s(o,{timeOut_ms:1e3});new h(l,r).watch({speed:.005,loopPhi:{min:0,max:Math.PI},loopR:{min:100/3,max:100},defaultR:100}),n.w.on("tick",(()=>{e.render(d,t)}))}}window.onload=()=>{new m}}},i={};function a(t){var r=i[t];if(void 0!==r)return r.exports;var o=i[t]={exports:{}};return e[t](o,o.exports,a),o.exports}a.m=e,t=[],a.O=(e,i,r,o)=>{if(!i){var s=1/0;for(c=0;c<t.length;c++){for(var[i,r,o]=t[c],n=!0,l=0;l<i.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((t=>a.O[t](i[l])))?i.splice(l--,1):(n=!1,o<s&&(s=o));if(n){t.splice(c--,1);var h=r();void 0!==h&&(e=h)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[i,r,o]},a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={200:0};a.O.j=e=>0===t[e];var e=(e,i)=>{var r,o,[s,n,l]=i,h=0;if(s.some((e=>0!==t[e]))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(l)var c=l(a)}for(e&&e(i);h<s.length;h++)o=s[h],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(c)},i=self.webpackChunk_masatomakino_threejs_spherical_rotor=self.webpackChunk_masatomakino_threejs_spherical_rotor||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var r=a.O(void 0,[121],(()=>a(294)));r=a.O(r)})();