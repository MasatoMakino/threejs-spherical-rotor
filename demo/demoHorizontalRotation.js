(()=>{"use strict";var __webpack_modules__={243:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval("\n// UNUSED EXPORTS: Demo\n\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(75);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/controls/OrbitControls.js\nvar OrbitControls = __webpack_require__(12);\n;// CONCATENATED MODULE: ./demoSrc/Common.js\n\n\nclass Common {\n  static initScene() {\n    return new three_module/* Scene */.xsS();\n  }\n\n  static initLight(scene) {\n    const ambientLight = new three_module/* AmbientLight */.Mig(0xffffff, 1.0);\n    scene.add(ambientLight);\n    return ambientLight;\n  }\n\n  static initCamera(scene, W, H, near = 1, far = 400) {\n    const camera = new three_module/* PerspectiveCamera */.cPb(45, W / H, near, far);\n    camera.position.set(0, 0, 100);\n    camera.updateMatrixWorld(false);\n    scene.add(camera);\n    return camera;\n  }\n\n  static initControl(camera, render) {\n    let domElement;\n\n    if (render) {\n      domElement = render.domElement;\n    }\n\n    const control = new OrbitControls/* OrbitControls */.z(camera, domElement);\n    control.update();\n    return control;\n  }\n\n  static initRenderer(W, H, option) {\n    option = Object.assign({\n      color: 0x000000,\n      antialias: true\n    }, option);\n    const renderer = new three_module/* WebGLRenderer */.CP7({\n      antialias: option.antialias\n    });\n    document.body.appendChild(renderer.domElement);\n    renderer.setClearColor(new three_module/* Color */.Ilk(option.color));\n    renderer.setSize(W, H);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    return renderer;\n  }\n\n  static initHelper(scene) {\n    const axesHelper = new three_module/* AxesHelper */.y8_(20);\n    scene.add(axesHelper);\n    const cone = new three_module/* Mesh */.Kj0(new three_module/* ConeGeometry */.b_z(5, 10, 16), new three_module/* MeshBasicMaterial */.vBJ({\n      wireframe: true\n    }));\n    scene.add(cone);\n    return axesHelper;\n  }\n\n}\n// EXTERNAL MODULE: ./node_modules/@masatomakino/raf-ticker/esm/index.js + 2 modules\nvar esm = __webpack_require__(163);\n// EXTERNAL MODULE: ./node_modules/@masatomakino/threejs-spherical-controls/esm/index.js + 12 modules\nvar threejs_spherical_controls_esm = __webpack_require__(15);\n;// CONCATENATED MODULE: ./esm/SphericalRotor.js\n\n\n\n\nclass SphericalRotor {\n  constructor(cameraController) {\n    this.cameraController = cameraController;\n    this.isRotation = false;\n    /**\n     * @deprecated use rotate();\n     */\n\n    this.startRotation = () => {\n      this.rotate();\n    };\n    /**\n     * カメラを横回転させる\n     * 往復ではなく無限運動。\n     */\n\n\n    this.rotateTheta = e => {\n      if (this._config.speed == null) return;\n      this.cameraController.addPosition(threejs_spherical_controls_esm/* SphericalParamType.THETA */.xP.THETA, this._config.speed * (e.delta / (1000 / 30)), false, true);\n    };\n    /**\n     * カメラの自動回転を停止する\n     * @deprecated use stop()\n     */\n\n\n    this.stopRotation = () => {\n      this.stop();\n    };\n  }\n\n  set config(parameters) {\n    this._config = SphericalRotorConfigUtil.init(parameters);\n  }\n\n  rotate() {\n    this.stop();\n    if (this.isRotation) return; //横回転\n\n    if (this._config.speed != null) {\n      esm/* RAFTicker.on */.Fz.on(esm/* RAFTickerEventType.tick */.M9.tick, this.rotateTheta);\n    } //縦往復ループ\n\n\n    this.startSphericalCameraLoop(threejs_spherical_controls_esm/* SphericalParamType.PHI */.xP.PHI); //横往復ループ\n\n    this.startSphericalCameraLoop(threejs_spherical_controls_esm/* SphericalParamType.THETA */.xP.THETA); //ズームインアウトループ\n\n    this.startSphericalCameraLoop(threejs_spherical_controls_esm/* SphericalParamType.R */.xP.R);\n    this.isRotation = true;\n  }\n  /**\n   * configオブジェクトから、縦、横、ズームループの状態を取り出す。\n   * 設定されている場合、ループを開始する。\n   *\n   * @param type 縦、横、ズームのいずれか\n   * @private\n   */\n\n\n  startSphericalCameraLoop(type) {\n    const loop = SphericalRotorConfigUtil.extractSphericalParam(this._config, type);\n    if (loop == null) return;\n    this.cameraController.loop(type, loop.min, loop.max, {\n      duration: loop.duration\n    });\n  }\n  /**\n   * カメラの回転を一時停止する。\n   * @param [option] option.returnR = falseの時、アニメーションを行わない。\n   */\n\n\n  stop(option) {\n    if (!this.isRotation) return;\n    this.isRotation = false;\n    esm/* RAFTicker.off */.Fz.off(esm/* RAFTickerEventType.tick */.M9.tick, this.rotateTheta);\n    this.cameraController.tweens.stop();\n    option = SphericalRotor.getDefaultStopParam(option);\n    this.returnToDefaultR(option);\n  }\n  /**\n   * カメラをデフォルト位置まで戻す\n   * @param option\n   * @protected\n   */\n\n\n  returnToDefaultR(option) {\n    var _a;\n\n    if (((_a = this._config) === null || _a === void 0 ? void 0 : _a.defaultR) != null && (option === null || option === void 0 ? void 0 : option.returnR) === true) {\n      this.cameraController.movePosition(threejs_spherical_controls_esm/* SphericalParamType.R */.xP.R, this._config.defaultR, {\n        duration: 333\n      });\n    }\n  }\n\n  static getDefaultStopParam(option) {\n    var _a;\n\n    option !== null && option !== void 0 ? option : option = {};\n    (_a = option.returnR) !== null && _a !== void 0 ? _a : option.returnR = true;\n    return option;\n  }\n\n}\n// EXTERNAL MODULE: ./node_modules/@masatomakino/threejs-drag-watcher/esm/index.js + 4 modules\nvar threejs_drag_watcher_esm = __webpack_require__(237);\n;// CONCATENATED MODULE: ./esm/AutoSphericalRotor.js\n\n\n/**\n * マウス操作を監視し、回転を制御するクラス。\n * マウスが無操作の場合、回転を始め、操作が再開されると停止する。\n */\n\nclass AutoSphericalRotor extends SphericalRotor {\n  constructor(sleepWatcher, cameraController) {\n    super(cameraController);\n    this.sleepWatcher = sleepWatcher;\n    this.isStart = false;\n\n    this.onSleep = () => {\n      this.rotate();\n    };\n\n    this.onWakeup = () => {\n      this.stop();\n    };\n  }\n  /**\n   * マウスの監視を一時停止する\n   * @param [option]　option.returnR =　falseの時のみ、アニメーションを行わず原位置でマウス監視が停止する。監視を停止させた後に別のアニメーションでカメラを移動したかったり、元に戻したかったりする場合に使う。\n   */\n\n\n  pause(option) {\n    if (!this.isStart) return;\n    this.isStart = false;\n    option = SphericalRotor.getDefaultStopParam(option);\n    this.stopWatcher();\n    this.stop(option);\n  }\n\n  stopWatcher() {\n    this.sleepWatcher.removeEventListener(threejs_drag_watcher_esm/* SleepEventType.SLEEP */.On.SLEEP, this.onSleep);\n    this.sleepWatcher.removeEventListener(threejs_drag_watcher_esm/* SleepEventType.WAKEUP */.On.WAKEUP, this.onWakeup);\n    this.sleepWatcher.stop();\n  }\n  /**\n   * マウスの監視を再開する。\n   * 各種設定はstart()で指定されたオプションを引き継ぐ。\n   * pause()関数で停止された監視を再開させるための関数。\n   */\n\n\n  resume() {\n    if (this.isStart) return;\n    this.isStart = true;\n    this.startWatcher();\n  }\n  /**\n   * マウスの監視を開始する。\n   * @param parameters\n   * @deprecated use watch();\n   */\n\n\n  start(parameters) {\n    this.watch(parameters);\n  }\n  /**\n   * マウスの監視を開始する。\n   * @param parameters\n   */\n\n\n  watch(parameters) {\n    this.config = parameters;\n    this.isStart = true;\n    this.startWatcher();\n  }\n\n  startWatcher() {\n    this.stopWatcher();\n    this.sleepWatcher.addEventListener(threejs_drag_watcher_esm/* SleepEventType.SLEEP */.On.SLEEP, this.onSleep);\n    this.sleepWatcher.addEventListener(threejs_drag_watcher_esm/* SleepEventType.WAKEUP */.On.WAKEUP, this.onWakeup);\n    this.sleepWatcher.start();\n  }\n\n}\nAutoSphericalRotor.DEFAULT_LOOP_LAT_DURATION = 30 * 1000;\nAutoSphericalRotor.DEFAULT_LOOP_R_DURATION = 30 * 1000;\n;// CONCATENATED MODULE: ./esm/SphericalRotorConfig.js\n\n\nclass SphericalRotorConfigUtil {\n  static init(config) {\n    var _a, _b, _c, _d, _e, _f;\n\n    var _g, _h, _j;\n\n    config !== null && config !== void 0 ? config : config = {};\n    (_a = config.loopPhi) !== null && _a !== void 0 ? _a : config.loopPhi = {};\n    (_b = (_g = config.loopPhi).duration) !== null && _b !== void 0 ? _b : _g.duration = AutoSphericalRotor.DEFAULT_LOOP_LAT_DURATION;\n    (_c = config.loopTheta) !== null && _c !== void 0 ? _c : config.loopTheta = {};\n    (_d = (_h = config.loopTheta).duration) !== null && _d !== void 0 ? _d : _h.duration = AutoSphericalRotor.DEFAULT_LOOP_LAT_DURATION;\n    (_e = config.loopR) !== null && _e !== void 0 ? _e : config.loopR = {};\n    (_f = (_j = config.loopR).duration) !== null && _f !== void 0 ? _f : _j.duration = AutoSphericalRotor.DEFAULT_LOOP_R_DURATION;\n    return config;\n  }\n  /**\n   * ループアニメーションに必要な情報を、configオブジェクトから取り出す。\n   * @param config\n   * @param type\n   */\n\n\n  static extractSphericalParam(config, type) {\n    const getLoopParameter = (config, type) => {\n      switch (type) {\n        case threejs_spherical_controls_esm/* SphericalParamType.PHI */.xP.PHI:\n          return config.loopPhi;\n\n        case threejs_spherical_controls_esm/* SphericalParamType.THETA */.xP.THETA:\n          return config.loopTheta;\n\n        case threejs_spherical_controls_esm/* SphericalParamType.R */.xP.R:\n          return config.loopR;\n      }\n\n      return null;\n    };\n\n    const param = getLoopParameter(config, type);\n    if (param == null || param.max == null || param.min == null) return null;\n    return param;\n  }\n\n}\n;// CONCATENATED MODULE: ./esm/index.js\n\n\n\n\n;// CONCATENATED MODULE: ./demoSrc/demoHorizontalRotation.js\n\n\n\n\n\n\nlet scene;\nclass Demo {\n  constructor() {\n    const W = 640;\n    const H = 480;\n    scene = Common.initScene();\n    scene.fog = new three_module/* Fog */.ybr(0x000000, 80, 160);\n    Common.initLight(scene);\n    const camera = Common.initCamera(scene, W, H);\n    const renderer = Common.initRenderer(W, H, {\n      antialias: false\n    });\n    Common.initHelper(scene);\n    const target = threejs_spherical_controls_esm/* SphericalControllerUtil.generateCameraTarget */.r$.generateCameraTarget();\n    scene.add(target);\n    const control = new threejs_spherical_controls_esm/* SphericalController */.R_(camera, target);\n    control.initCameraPosition(new three_module/* Spherical */.$V(100, Math.PI / 2, 0));\n    const dragWatcher = new threejs_drag_watcher_esm/* DragWatcher */.q8(renderer.domElement);\n    const sleepWatcher = new threejs_drag_watcher_esm/* SleepWatcher */.EH(dragWatcher, {\n      timeOut_ms: 1000\n    });\n    const rotor = new AutoSphericalRotor(sleepWatcher, control);\n    rotor.watch({\n      speed: 0.005,\n      loopPhi: {\n        min: 0,\n        max: Math.PI\n      },\n      loopR: {\n        min: 100 / 3,\n        max: 100\n      },\n      defaultR: 100\n    });\n    esm/* RAFTicker.on */.Fz.on(esm/* RAFTickerEventType.tick */.M9.tick, () => {\n      renderer.render(scene, camera);\n    });\n  }\n\n}\n\nwindow.onload = () => {\n  new Demo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0QsSUFBSSxDQUFDQztNQUZILENBRkM7TUFNVmYsS0FBSyxFQUFFO1FBQ0x2QyxHQUFHLEVBQUUsTUFBTSxDQUROO1FBRUxDLEdBQUcsRUFBRTtNQUZBLENBTkc7TUFVVk8sUUFBUSxFQUFFO0lBVkEsQ0FBWjtJQWFBcEMsMkJBQUEsQ0FBYUMsd0NBQWIsRUFBc0MsTUFBTTtNQUMxQ2hCLFFBQVEsQ0FBQ1YsTUFBVCxDQUFnQmIsS0FBaEIsRUFBdUJRLE1BQXZCO0lBQ0QsQ0FGRDtFQUdEOztBQXRDZTs7QUF5Q2xCc0IsTUFBTSxDQUFDOEYsTUFBUCxHQUFnQixNQUFNO0VBQ3BCLElBQUlWLElBQUo7QUFDRCxDQUZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLXNwaGVyaWNhbC1yb3Rvci8uL2RlbW9TcmMvQ29tbW9uLmpzPzJjMDciLCJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLXNwaGVyaWNhbC1yb3Rvci8uL2VzbS9TcGhlcmljYWxSb3Rvci5qcz9jNzc0Iiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1zcGhlcmljYWwtcm90b3IvLi9lc20vQXV0b1NwaGVyaWNhbFJvdG9yLmpzP2NhZDUiLCJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLXNwaGVyaWNhbC1yb3Rvci8uL2VzbS9TcGhlcmljYWxSb3RvckNvbmZpZy5qcz80YTAxIiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1zcGhlcmljYWwtcm90b3IvLi9lc20vaW5kZXguanM/YjIzOSIsIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtc3BoZXJpY2FsLXJvdG9yLy4vZGVtb1NyYy9kZW1vSG9yaXpvbnRhbFJvdGF0aW9uLmpzPzk2ZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQW1iaWVudExpZ2h0LFxuICBBeGVzSGVscGVyLFxuICBDb2xvcixcbiAgQ29uZUdlb21ldHJ5LFxuICBNZXNoQmFzaWNNYXRlcmlhbCxcbiAgUGVyc3BlY3RpdmVDYW1lcmEsXG4gIFNjZW5lLFxuICBXZWJHTFJlbmRlcmVyLFxuICBNZXNoLFxufSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHNcIjtcblxuZXhwb3J0IGNsYXNzIENvbW1vbiB7XG4gIHN0YXRpYyBpbml0U2NlbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBTY2VuZSgpO1xuICB9XG5cbiAgc3RhdGljIGluaXRMaWdodChzY2VuZSkge1xuICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBBbWJpZW50TGlnaHQoMHhmZmZmZmYsIDEuMCk7XG4gICAgc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7XG4gICAgcmV0dXJuIGFtYmllbnRMaWdodDtcbiAgfVxuXG4gIHN0YXRpYyBpbml0Q2FtZXJhKHNjZW5lLCBXLCBILCBuZWFyID0gMSwgZmFyID0gNDAwKSB7XG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCBXIC8gSCwgbmVhciwgZmFyKTtcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDEwMCk7XG4gICAgY2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKGZhbHNlKTtcbiAgICBzY2VuZS5hZGQoY2FtZXJhKTtcbiAgICByZXR1cm4gY2FtZXJhO1xuICB9XG5cbiAgc3RhdGljIGluaXRDb250cm9sKGNhbWVyYSwgcmVuZGVyKSB7XG4gICAgbGV0IGRvbUVsZW1lbnQ7XG4gICAgaWYgKHJlbmRlcikge1xuICAgICAgZG9tRWxlbWVudCA9IHJlbmRlci5kb21FbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBjb250cm9sID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCBkb21FbGVtZW50KTtcbiAgICBjb250cm9sLnVwZGF0ZSgpO1xuICAgIHJldHVybiBjb250cm9sO1xuICB9XG5cbiAgc3RhdGljIGluaXRSZW5kZXJlcihXLCBILCBvcHRpb24pIHtcbiAgICBvcHRpb24gPSBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBjb2xvcjogMHgwMDAwMDAsXG4gICAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBvcHRpb25cbiAgICApO1xuXG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcih7XG4gICAgICBhbnRpYWxpYXM6IG9wdGlvbi5hbnRpYWxpYXMsXG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKG5ldyBDb2xvcihvcHRpb24uY29sb3IpKTtcbiAgICByZW5kZXJlci5zZXRTaXplKFcsIEgpO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIHJldHVybiByZW5kZXJlcjtcbiAgfVxuXG4gIHN0YXRpYyBpbml0SGVscGVyKHNjZW5lKSB7XG4gICAgY29uc3QgYXhlc0hlbHBlciA9IG5ldyBBeGVzSGVscGVyKDIwKTtcbiAgICBzY2VuZS5hZGQoYXhlc0hlbHBlcik7XG4gICAgY29uc3QgY29uZSA9IG5ldyBNZXNoKFxuICAgICAgbmV3IENvbmVHZW9tZXRyeSg1LCAxMCwgMTYpLFxuICAgICAgbmV3IE1lc2hCYXNpY01hdGVyaWFsKHsgd2lyZWZyYW1lOiB0cnVlIH0pXG4gICAgKTtcbiAgICBzY2VuZS5hZGQoY29uZSk7XG4gICAgcmV0dXJuIGF4ZXNIZWxwZXI7XG4gIH1cbn1cbiIsImltcG9ydCB7IFNwaGVyaWNhbFBhcmFtVHlwZSwgfSBmcm9tIFwiQG1hc2F0b21ha2luby90aHJlZWpzLXNwaGVyaWNhbC1jb250cm9sc1wiO1xuaW1wb3J0IHsgU3BoZXJpY2FsUm90b3JDb25maWdVdGlsLCB9IGZyb20gXCIuL1wiO1xuaW1wb3J0IHsgUkFGVGlja2VyIH0gZnJvbSBcIkBtYXNhdG9tYWtpbm8vcmFmLXRpY2tlclwiO1xuaW1wb3J0IHsgUkFGVGlja2VyRXZlbnRUeXBlIH0gZnJvbSBcIkBtYXNhdG9tYWtpbm8vcmFmLXRpY2tlclwiO1xuZXhwb3J0IGNsYXNzIFNwaGVyaWNhbFJvdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihjYW1lcmFDb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhQ29udHJvbGxlciA9IGNhbWVyYUNvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMuaXNSb3RhdGlvbiA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgdXNlIHJvdGF0ZSgpO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydFJvdGF0aW9uID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yb3RhdGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIOOCq+ODoeODqeOCkuaoquWbnui7ouOBleOBm+OCi1xuICAgICAgICAgKiDlvoDlvqnjgafjga/jgarjgY/nhKHpmZDpgYvli5XjgIJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm90YXRlVGhldGEgPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5zcGVlZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhQ29udHJvbGxlci5hZGRQb3NpdGlvbihTcGhlcmljYWxQYXJhbVR5cGUuVEhFVEEsIHRoaXMuX2NvbmZpZy5zcGVlZCAqIChlLmRlbHRhIC8gKDEwMDAgLyAzMCkpLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiDjgqvjg6Hjg6njga7oh6rli5Xlm57ou6LjgpLlgZzmraLjgZnjgotcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgdXNlIHN0b3AoKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wUm90YXRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0IGNvbmZpZyhwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IFNwaGVyaWNhbFJvdG9yQ29uZmlnVXRpbC5pbml0KHBhcmFtZXRlcnMpO1xuICAgIH1cbiAgICByb3RhdGUoKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBpZiAodGhpcy5pc1JvdGF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvL+aoquWbnui7olxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnNwZWVkICE9IG51bGwpIHtcbiAgICAgICAgICAgIFJBRlRpY2tlci5vbihSQUZUaWNrZXJFdmVudFR5cGUudGljaywgdGhpcy5yb3RhdGVUaGV0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy/nuKblvoDlvqnjg6vjg7zjg5dcbiAgICAgICAgdGhpcy5zdGFydFNwaGVyaWNhbENhbWVyYUxvb3AoU3BoZXJpY2FsUGFyYW1UeXBlLlBISSk7XG4gICAgICAgIC8v5qiq5b6A5b6p44Or44O844OXXG4gICAgICAgIHRoaXMuc3RhcnRTcGhlcmljYWxDYW1lcmFMb29wKFNwaGVyaWNhbFBhcmFtVHlwZS5USEVUQSk7XG4gICAgICAgIC8v44K644O844Og44Kk44Oz44Ki44Km44OI44Or44O844OXXG4gICAgICAgIHRoaXMuc3RhcnRTcGhlcmljYWxDYW1lcmFMb29wKFNwaGVyaWNhbFBhcmFtVHlwZS5SKTtcbiAgICAgICAgdGhpcy5pc1JvdGF0aW9uID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY29uZmln44Kq44OW44K444Kn44Kv44OI44GL44KJ44CB57im44CB5qiq44CB44K644O844Og44Or44O844OX44Gu54q25oWL44KS5Y+W44KK5Ye644GZ44CCXG4gICAgICog6Kit5a6a44GV44KM44Gm44GE44KL5aC05ZCI44CB44Or44O844OX44KS6ZaL5aeL44GZ44KL44CCXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHlwZSDnuKbjgIHmqKrjgIHjgrrjg7zjg6Djga7jgYTjgZrjgozjgYtcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXJ0U3BoZXJpY2FsQ2FtZXJhTG9vcCh0eXBlKSB7XG4gICAgICAgIGNvbnN0IGxvb3AgPSBTcGhlcmljYWxSb3RvckNvbmZpZ1V0aWwuZXh0cmFjdFNwaGVyaWNhbFBhcmFtKHRoaXMuX2NvbmZpZywgdHlwZSk7XG4gICAgICAgIGlmIChsb29wID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuY2FtZXJhQ29udHJvbGxlci5sb29wKHR5cGUsIGxvb3AubWluLCBsb29wLm1heCwge1xuICAgICAgICAgICAgZHVyYXRpb246IGxvb3AuZHVyYXRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDjgqvjg6Hjg6njga7lm57ou6LjgpLkuIDmmYLlgZzmraLjgZnjgovjgIJcbiAgICAgKiBAcGFyYW0gW29wdGlvbl0gb3B0aW9uLnJldHVyblIgPSBmYWxzZeOBruaZguOAgeOCouODi+ODoeODvOOCt+ODp+ODs+OCkuihjOOCj+OBquOBhOOAglxuICAgICAqL1xuICAgIHN0b3Aob3B0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1JvdGF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzUm90YXRpb24gPSBmYWxzZTtcbiAgICAgICAgUkFGVGlja2VyLm9mZihSQUZUaWNrZXJFdmVudFR5cGUudGljaywgdGhpcy5yb3RhdGVUaGV0YSk7XG4gICAgICAgIHRoaXMuY2FtZXJhQ29udHJvbGxlci50d2VlbnMuc3RvcCgpO1xuICAgICAgICBvcHRpb24gPSBTcGhlcmljYWxSb3Rvci5nZXREZWZhdWx0U3RvcFBhcmFtKG9wdGlvbik7XG4gICAgICAgIHRoaXMucmV0dXJuVG9EZWZhdWx0UihvcHRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDjgqvjg6Hjg6njgpLjg4fjg5Xjgqnjg6vjg4jkvY3nva7jgb7jgafmiLvjgZlcbiAgICAgKiBAcGFyYW0gb3B0aW9uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHJldHVyblRvRGVmYXVsdFIob3B0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLl9jb25maWcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWZhdWx0UikgIT0gbnVsbCAmJiAob3B0aW9uID09PSBudWxsIHx8IG9wdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9uLnJldHVyblIpID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUNvbnRyb2xsZXIubW92ZVBvc2l0aW9uKFNwaGVyaWNhbFBhcmFtVHlwZS5SLCB0aGlzLl9jb25maWcuZGVmYXVsdFIsIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzMzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRTdG9wUGFyYW0ob3B0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgb3B0aW9uICE9PSBudWxsICYmIG9wdGlvbiAhPT0gdm9pZCAwID8gb3B0aW9uIDogKG9wdGlvbiA9IHt9KTtcbiAgICAgICAgKF9hID0gb3B0aW9uLnJldHVyblIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChvcHRpb24ucmV0dXJuUiA9IHRydWUpO1xuICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNsZWVwRXZlbnRUeXBlIH0gZnJvbSBcIkBtYXNhdG9tYWtpbm8vdGhyZWVqcy1kcmFnLXdhdGNoZXJcIjtcbmltcG9ydCB7IFNwaGVyaWNhbFJvdG9yIH0gZnJvbSBcIi4vXCI7XG4vKipcbiAqIOODnuOCpuOCueaTjeS9nOOCkuebo+imluOBl+OAgeWbnui7ouOCkuWItuW+oeOBmeOCi+OCr+ODqeOCueOAglxuICog44Oe44Km44K544GM54Sh5pON5L2c44Gu5aC05ZCI44CB5Zue6Lui44KS5aeL44KB44CB5pON5L2c44GM5YaN6ZaL44GV44KM44KL44Go5YGc5q2i44GZ44KL44CCXG4gKi9cbmV4cG9ydCBjbGFzcyBBdXRvU3BoZXJpY2FsUm90b3IgZXh0ZW5kcyBTcGhlcmljYWxSb3RvciB7XG4gICAgY29uc3RydWN0b3Ioc2xlZXBXYXRjaGVyLCBjYW1lcmFDb250cm9sbGVyKSB7XG4gICAgICAgIHN1cGVyKGNhbWVyYUNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnNsZWVwV2F0Y2hlciA9IHNsZWVwV2F0Y2hlcjtcbiAgICAgICAgdGhpcy5pc1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25TbGVlcCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucm90YXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25XYWtldXAgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog44Oe44Km44K544Gu55uj6KaW44KS5LiA5pmC5YGc5q2i44GZ44KLXG4gICAgICogQHBhcmFtIFtvcHRpb25d44CAb3B0aW9uLnJldHVyblIgPeOAgGZhbHNl44Gu5pmC44Gu44G/44CB44Ki44OL44Oh44O844K344On44Oz44KS6KGM44KP44Ga5Y6f5L2N572u44Gn44Oe44Km44K555uj6KaW44GM5YGc5q2i44GZ44KL44CC55uj6KaW44KS5YGc5q2i44GV44Gb44Gf5b6M44Gr5Yil44Gu44Ki44OL44Oh44O844K344On44Oz44Gn44Kr44Oh44Op44KS56e75YuV44GX44Gf44GL44Gj44Gf44KK44CB5YWD44Gr5oi744GX44Gf44GL44Gj44Gf44KK44GZ44KL5aC05ZCI44Gr5L2/44GG44CCXG4gICAgICovXG4gICAgcGF1c2Uob3B0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgb3B0aW9uID0gU3BoZXJpY2FsUm90b3IuZ2V0RGVmYXVsdFN0b3BQYXJhbShvcHRpb24pO1xuICAgICAgICB0aGlzLnN0b3BXYXRjaGVyKCk7XG4gICAgICAgIHRoaXMuc3RvcChvcHRpb24pO1xuICAgIH1cbiAgICBzdG9wV2F0Y2hlcigpIHtcbiAgICAgICAgdGhpcy5zbGVlcFdhdGNoZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihTbGVlcEV2ZW50VHlwZS5TTEVFUCwgdGhpcy5vblNsZWVwKTtcbiAgICAgICAgdGhpcy5zbGVlcFdhdGNoZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihTbGVlcEV2ZW50VHlwZS5XQUtFVVAsIHRoaXMub25XYWtldXApO1xuICAgICAgICB0aGlzLnNsZWVwV2F0Y2hlci5zdG9wKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOODnuOCpuOCueOBruebo+imluOCkuWGjemWi+OBmeOCi+OAglxuICAgICAqIOWQhOeoruioreWumuOBr3N0YXJ0KCnjgafmjIflrprjgZXjgozjgZ/jgqrjg5fjgrfjg6fjg7PjgpLlvJXjgY3ntpnjgZDjgIJcbiAgICAgKiBwYXVzZSgp6Zai5pWw44Gn5YGc5q2i44GV44KM44Gf55uj6KaW44KS5YaN6ZaL44GV44Gb44KL44Gf44KB44Gu6Zai5pWw44CCXG4gICAgICovXG4gICAgcmVzdW1lKCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzU3RhcnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXJ0V2F0Y2hlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDjg57jgqbjgrnjga7nm6PoppbjgpLplovlp4vjgZnjgovjgIJcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHVzZSB3YXRjaCgpO1xuICAgICAqL1xuICAgIHN0YXJ0KHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdGhpcy53YXRjaChwYXJhbWV0ZXJzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog44Oe44Km44K544Gu55uj6KaW44KS6ZaL5aeL44GZ44KL44CCXG4gICAgICogQHBhcmFtIHBhcmFtZXRlcnNcbiAgICAgKi9cbiAgICB3YXRjaChwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gcGFyYW1ldGVycztcbiAgICAgICAgdGhpcy5pc1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGFydFdhdGNoZXIoKTtcbiAgICB9XG4gICAgc3RhcnRXYXRjaGVyKCkge1xuICAgICAgICB0aGlzLnN0b3BXYXRjaGVyKCk7XG4gICAgICAgIHRoaXMuc2xlZXBXYXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoU2xlZXBFdmVudFR5cGUuU0xFRVAsIHRoaXMub25TbGVlcCk7XG4gICAgICAgIHRoaXMuc2xlZXBXYXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoU2xlZXBFdmVudFR5cGUuV0FLRVVQLCB0aGlzLm9uV2FrZXVwKTtcbiAgICAgICAgdGhpcy5zbGVlcFdhdGNoZXIuc3RhcnQoKTtcbiAgICB9XG59XG5BdXRvU3BoZXJpY2FsUm90b3IuREVGQVVMVF9MT09QX0xBVF9EVVJBVElPTiA9IDMwICogMTAwMDtcbkF1dG9TcGhlcmljYWxSb3Rvci5ERUZBVUxUX0xPT1BfUl9EVVJBVElPTiA9IDMwICogMTAwMDtcbiIsImltcG9ydCB7IEF1dG9TcGhlcmljYWxSb3RvciB9IGZyb20gXCIuL1wiO1xuaW1wb3J0IHsgU3BoZXJpY2FsUGFyYW1UeXBlIH0gZnJvbSBcIkBtYXNhdG9tYWtpbm8vdGhyZWVqcy1zcGhlcmljYWwtY29udHJvbHNcIjtcbmV4cG9ydCBjbGFzcyBTcGhlcmljYWxSb3RvckNvbmZpZ1V0aWwge1xuICAgIHN0YXRpYyBpbml0KGNvbmZpZykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgdmFyIF9nLCBfaCwgX2o7XG4gICAgICAgIGNvbmZpZyAhPT0gbnVsbCAmJiBjb25maWcgIT09IHZvaWQgMCA/IGNvbmZpZyA6IChjb25maWcgPSB7fSk7XG4gICAgICAgIChfYSA9IGNvbmZpZy5sb29wUGhpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoY29uZmlnLmxvb3BQaGkgPSB7fSk7XG4gICAgICAgIChfYiA9IChfZyA9IGNvbmZpZy5sb29wUGhpKS5kdXJhdGlvbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKF9nLmR1cmF0aW9uID0gQXV0b1NwaGVyaWNhbFJvdG9yLkRFRkFVTFRfTE9PUF9MQVRfRFVSQVRJT04pO1xuICAgICAgICAoX2MgPSBjb25maWcubG9vcFRoZXRhKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAoY29uZmlnLmxvb3BUaGV0YSA9IHt9KTtcbiAgICAgICAgKF9kID0gKF9oID0gY29uZmlnLmxvb3BUaGV0YSkuZHVyYXRpb24pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IChfaC5kdXJhdGlvbiA9IEF1dG9TcGhlcmljYWxSb3Rvci5ERUZBVUxUX0xPT1BfTEFUX0RVUkFUSU9OKTtcbiAgICAgICAgKF9lID0gY29uZmlnLmxvb3BSKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAoY29uZmlnLmxvb3BSID0ge30pO1xuICAgICAgICAoX2YgPSAoX2ogPSBjb25maWcubG9vcFIpLmR1cmF0aW9uKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAoX2ouZHVyYXRpb24gPSBBdXRvU3BoZXJpY2FsUm90b3IuREVGQVVMVF9MT09QX1JfRFVSQVRJT04pO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDjg6vjg7zjg5fjgqLjg4vjg6Hjg7zjgrfjg6fjg7Pjgavlv4XopoHjgarmg4XloLHjgpLjgIFjb25maWfjgqrjg5bjgrjjgqfjgq/jg4jjgYvjgonlj5bjgorlh7rjgZnjgIJcbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICogQHBhcmFtIHR5cGVcbiAgICAgKi9cbiAgICBzdGF0aWMgZXh0cmFjdFNwaGVyaWNhbFBhcmFtKGNvbmZpZywgdHlwZSkge1xuICAgICAgICBjb25zdCBnZXRMb29wUGFyYW1ldGVyID0gKGNvbmZpZywgdHlwZSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBTcGhlcmljYWxQYXJhbVR5cGUuUEhJOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnLmxvb3BQaGk7XG4gICAgICAgICAgICAgICAgY2FzZSBTcGhlcmljYWxQYXJhbVR5cGUuVEhFVEE6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWcubG9vcFRoZXRhO1xuICAgICAgICAgICAgICAgIGNhc2UgU3BoZXJpY2FsUGFyYW1UeXBlLlI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWcubG9vcFI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGFyYW0gPSBnZXRMb29wUGFyYW1ldGVyKGNvbmZpZywgdHlwZSk7XG4gICAgICAgIGlmIChwYXJhbSA9PSBudWxsIHx8IHBhcmFtLm1heCA9PSBudWxsIHx8IHBhcmFtLm1pbiA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBwYXJhbTtcbiAgICB9XG59XG4iLCJleHBvcnQgKiBmcm9tIFwiLi9TcGhlcmljYWxSb3RvclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vQXV0b1NwaGVyaWNhbFJvdG9yXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9Sb3RvclN0b3BDb25maWdcIjtcbmV4cG9ydCAqIGZyb20gXCIuL1NwaGVyaWNhbFJvdG9yQ29uZmlnXCI7XG4iLCJpbXBvcnQgeyBDb21tb24gfSBmcm9tIFwiLi9Db21tb25cIjtcbmltcG9ydCB7IFJBRlRpY2tlciwgUkFGVGlja2VyRXZlbnRUeXBlIH0gZnJvbSBcIkBtYXNhdG9tYWtpbm8vcmFmLXRpY2tlclwiO1xuaW1wb3J0IHsgRm9nLCBTcGhlcmljYWwgfSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IEF1dG9TcGhlcmljYWxSb3RvciB9IGZyb20gXCIuLlwiO1xuaW1wb3J0IHsgRHJhZ1dhdGNoZXIsIFNsZWVwV2F0Y2hlciB9IGZyb20gXCJAbWFzYXRvbWFraW5vL3RocmVlanMtZHJhZy13YXRjaGVyXCI7XG5pbXBvcnQge1xuICBTcGhlcmljYWxDb250cm9sbGVyLFxuICBTcGhlcmljYWxDb250cm9sbGVyVXRpbCxcbn0gZnJvbSBcIkBtYXNhdG9tYWtpbm8vdGhyZWVqcy1zcGhlcmljYWwtY29udHJvbHNcIjtcblxubGV0IHNjZW5lO1xuZXhwb3J0IGNsYXNzIERlbW8ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBXID0gNjQwO1xuICAgIGNvbnN0IEggPSA0ODA7XG5cbiAgICBzY2VuZSA9IENvbW1vbi5pbml0U2NlbmUoKTtcbiAgICBzY2VuZS5mb2cgPSBuZXcgRm9nKDB4MDAwMDAwLCA4MCwgMTYwKTtcbiAgICBDb21tb24uaW5pdExpZ2h0KHNjZW5lKTtcbiAgICBjb25zdCBjYW1lcmEgPSBDb21tb24uaW5pdENhbWVyYShzY2VuZSwgVywgSCk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBDb21tb24uaW5pdFJlbmRlcmVyKFcsIEgsIHsgYW50aWFsaWFzOiBmYWxzZSB9KTtcblxuICAgIENvbW1vbi5pbml0SGVscGVyKHNjZW5lKTtcblxuICAgIGNvbnN0IHRhcmdldCA9IFNwaGVyaWNhbENvbnRyb2xsZXJVdGlsLmdlbmVyYXRlQ2FtZXJhVGFyZ2V0KCk7XG4gICAgc2NlbmUuYWRkKHRhcmdldCk7XG4gICAgY29uc3QgY29udHJvbCA9IG5ldyBTcGhlcmljYWxDb250cm9sbGVyKGNhbWVyYSwgdGFyZ2V0KTtcblxuICAgIGNvbnRyb2wuaW5pdENhbWVyYVBvc2l0aW9uKG5ldyBTcGhlcmljYWwoMTAwLCBNYXRoLlBJIC8gMiwgMCkpO1xuICAgIGNvbnN0IGRyYWdXYXRjaGVyID0gbmV3IERyYWdXYXRjaGVyKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIGNvbnN0IHNsZWVwV2F0Y2hlciA9IG5ldyBTbGVlcFdhdGNoZXIoZHJhZ1dhdGNoZXIsIHsgdGltZU91dF9tczogMTAwMCB9KTtcblxuICAgIGNvbnN0IHJvdG9yID0gbmV3IEF1dG9TcGhlcmljYWxSb3RvcihzbGVlcFdhdGNoZXIsIGNvbnRyb2wpO1xuICAgIHJvdG9yLndhdGNoKHtcbiAgICAgIHNwZWVkOiAwLjAwNSxcbiAgICAgIGxvb3BQaGk6IHtcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IE1hdGguUEksXG4gICAgICB9LFxuICAgICAgbG9vcFI6IHtcbiAgICAgICAgbWluOiAxMDAgLyAzLFxuICAgICAgICBtYXg6IDEwMCxcbiAgICAgIH0sXG4gICAgICBkZWZhdWx0UjogMTAwLFxuICAgIH0pO1xuXG4gICAgUkFGVGlja2VyLm9uKFJBRlRpY2tlckV2ZW50VHlwZS50aWNrLCAoKSA9PiB7XG4gICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgfSk7XG4gIH1cbn1cblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgbmV3IERlbW8oKTtcbn07XG4iXSwibmFtZXMiOlsiQW1iaWVudExpZ2h0IiwiQXhlc0hlbHBlciIsIkNvbG9yIiwiQ29uZUdlb21ldHJ5IiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIlNjZW5lIiwiV2ViR0xSZW5kZXJlciIsIk1lc2giLCJPcmJpdENvbnRyb2xzIiwiQ29tbW9uIiwiaW5pdFNjZW5lIiwiaW5pdExpZ2h0Iiwic2NlbmUiLCJhbWJpZW50TGlnaHQiLCJhZGQiLCJpbml0Q2FtZXJhIiwiVyIsIkgiLCJuZWFyIiwiZmFyIiwiY2FtZXJhIiwicG9zaXRpb24iLCJzZXQiLCJ1cGRhdGVNYXRyaXhXb3JsZCIsImluaXRDb250cm9sIiwicmVuZGVyIiwiZG9tRWxlbWVudCIsImNvbnRyb2wiLCJ1cGRhdGUiLCJpbml0UmVuZGVyZXIiLCJvcHRpb24iLCJPYmplY3QiLCJhc3NpZ24iLCJjb2xvciIsImFudGlhbGlhcyIsInJlbmRlcmVyIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzZXRDbGVhckNvbG9yIiwic2V0U2l6ZSIsInNldFBpeGVsUmF0aW8iLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwiaW5pdEhlbHBlciIsImF4ZXNIZWxwZXIiLCJjb25lIiwid2lyZWZyYW1lIiwiU3BoZXJpY2FsUGFyYW1UeXBlIiwiU3BoZXJpY2FsUm90b3JDb25maWdVdGlsIiwiUkFGVGlja2VyIiwiUkFGVGlja2VyRXZlbnRUeXBlIiwiU3BoZXJpY2FsUm90b3IiLCJjb25zdHJ1Y3RvciIsImNhbWVyYUNvbnRyb2xsZXIiLCJpc1JvdGF0aW9uIiwic3RhcnRSb3RhdGlvbiIsInJvdGF0ZSIsInJvdGF0ZVRoZXRhIiwiZSIsIl9jb25maWciLCJzcGVlZCIsImFkZFBvc2l0aW9uIiwiVEhFVEEiLCJkZWx0YSIsInN0b3BSb3RhdGlvbiIsInN0b3AiLCJjb25maWciLCJwYXJhbWV0ZXJzIiwiaW5pdCIsIm9uIiwidGljayIsInN0YXJ0U3BoZXJpY2FsQ2FtZXJhTG9vcCIsIlBISSIsIlIiLCJ0eXBlIiwibG9vcCIsImV4dHJhY3RTcGhlcmljYWxQYXJhbSIsIm1pbiIsIm1heCIsImR1cmF0aW9uIiwib2ZmIiwidHdlZW5zIiwiZ2V0RGVmYXVsdFN0b3BQYXJhbSIsInJldHVyblRvRGVmYXVsdFIiLCJfYSIsImRlZmF1bHRSIiwicmV0dXJuUiIsIm1vdmVQb3NpdGlvbiIsIlNsZWVwRXZlbnRUeXBlIiwiQXV0b1NwaGVyaWNhbFJvdG9yIiwic2xlZXBXYXRjaGVyIiwiaXNTdGFydCIsIm9uU2xlZXAiLCJvbldha2V1cCIsInBhdXNlIiwic3RvcFdhdGNoZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiU0xFRVAiLCJXQUtFVVAiLCJyZXN1bWUiLCJzdGFydFdhdGNoZXIiLCJzdGFydCIsIndhdGNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkRFRkFVTFRfTE9PUF9MQVRfRFVSQVRJT04iLCJERUZBVUxUX0xPT1BfUl9EVVJBVElPTiIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsIl9oIiwiX2oiLCJsb29wUGhpIiwibG9vcFRoZXRhIiwibG9vcFIiLCJnZXRMb29wUGFyYW1ldGVyIiwicGFyYW0iLCJGb2ciLCJTcGhlcmljYWwiLCJEcmFnV2F0Y2hlciIsIlNsZWVwV2F0Y2hlciIsIlNwaGVyaWNhbENvbnRyb2xsZXIiLCJTcGhlcmljYWxDb250cm9sbGVyVXRpbCIsIkRlbW8iLCJmb2ciLCJ0YXJnZXQiLCJnZW5lcmF0ZUNhbWVyYVRhcmdldCIsImluaXRDYW1lcmFQb3NpdGlvbiIsIk1hdGgiLCJQSSIsImRyYWdXYXRjaGVyIiwidGltZU91dF9tcyIsInJvdG9yIiwib25sb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///243\n")}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](U,U.exports,__webpack_require__),U.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,F,U,B)=>{if(!F){var I=1/0;for(t=0;t<deferred.length;t++){for(var[F,U,B]=deferred[t],g=!0,C=0;C<F.length;C++)(!1&B||I>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](F[C])))?F.splice(C--,1):(g=!1,B<I&&(I=B));if(g){deferred.splice(t--,1);var i=U();void 0!==i&&(Q=i)}}return Q}B=B||0;for(var t=deferred.length;t>0&&deferred[t-1][2]>B;t--)deferred[t]=deferred[t-1];deferred[t]=[F,U,B]},__webpack_require__.n=Q=>{var F=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(F,{a:F}),F},__webpack_require__.d=(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),(()=>{var Q={256:0};__webpack_require__.O.j=F=>0===Q[F];var F=(F,U)=>{var B,I,[g,C,i]=U,t=0;if(g.some((F=>0!==Q[F]))){for(B in C)__webpack_require__.o(C,B)&&(__webpack_require__.m[B]=C[B]);if(i)var c=i(__webpack_require__)}for(F&&F(U);t<g.length;t++)I=g[t],__webpack_require__.o(Q,I)&&Q[I]&&Q[I][0](),Q[I]=0;return __webpack_require__.O(c)},U=self.webpackChunk_masatomakino_threejs_spherical_rotor=self.webpackChunk_masatomakino_threejs_spherical_rotor||[];U.forEach(F.bind(null,0)),U.push=F.bind(null,U.push.bind(U))})();var __webpack_exports__=__webpack_require__.O(void 0,[736],(()=>__webpack_require__(243)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();